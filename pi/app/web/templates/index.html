{% extends "base.html" %}
{% block content %}
<h1>Dashboard</h1>

<div class="grid2">
  <div class="card">
    <div class="card-title">System</div>
    <div class="kv">
      <div class="k">State</div><div class="v" id="dash_state">…</div>
      <div class="k">MQTT</div><div class="v" id="dash_mqtt">…</div>
      <div class="k">Anchors Online</div><div class="v" id="dash_anchors">…</div>
    </div>
    <div class="row">
      <button class="btn" onclick="ltRefreshDashboard()">Refresh</button>
    </div>
  </div>

  <div class="card">
    <div class="card-title">Preflight</div>
    <ul class="list" id="dash_warnings"><li class="muted">lade…</li></ul>
  </div>
</div>

<div class="card" style="margin-top:14px;">
  <div class="card-title">Debug</div>
  <pre class="pre" id="dash_debug"></pre>
</div>
{% endblock %}

{% block scripts %}
<script>
document.addEventListener("DOMContentLoaded", () => {
  ltRefreshFooterState();
  ltRefreshDashboard();
});
</script>
{% endblock %}
