{% extends "base.html" %}
{% block content %}
<h1>Edit Fixture</h1>

<div class="card">
  <div class="card-title">Fixture Ã¤ndern</div>
  <div class="muted">ID: <code id="fx_id">{{ fixture_id }}</code></div>

  <form onsubmit="ltUpdateFixture(event, {{ fixture_id }})">
    <div class="formgrid">
      <label>Name <span class="req">*</span>
        <input id="fx_name" required />
      </label>

      <label>Universe <span class="req">*</span>
        <input id="fx_universe" type="number" required min="1" />
      </label>

      <label>DMX Base Address <span class="req">*</span>
        <input id="fx_addr" type="number" required min="1" max="512" />
      </label>

      <label>Profile Key <span class="req">*</span>
        <input id="fx_profile" required />
      </label>

      <label>Pos X (cm)
        <input id="fx_x" type="number" />
      </label>
      <label>Pos Y (cm)
        <input id="fx_y" type="number" />
      </label>
      <label>Pos Z (cm)
        <input id="fx_z" type="number" />
      </label>
    </div>

    <div class="row">
      <button class="btn primary" type="submit">Save</button>
      <a class="btn" href="/ui/fixtures">Back</a>
      <button class="btn danger" type="button" onclick="ltDeleteFixture({{ fixture_id }})">Delete</button>
    </div>
  </form>

  <pre class="pre" id="fx_result"></pre>
</div>
{% endblock %}

{% block scripts %}
<script>
document.addEventListener("DOMContentLoaded", () => {
  ltRefreshFooterState();
  ltLoadFixtureForEdit({{ fixture_id }});
});
</script>
{% endblock %}
