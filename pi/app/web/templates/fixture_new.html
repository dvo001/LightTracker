{% extends "base.html" %}
{% block content %}
<h1>Fixture anlegen</h1>

<div class="card">
  <p class="muted">Felder mit <span class="req">*</span> sind zwingend.</p>

  <form class="form" id="fixtureForm" onsubmit="ltCreateFixture(event)">
    <label>Name <span class="req">*</span></label>
    <input id="fx_name" required placeholder="z.B. MH-01 (Stage Left)" />

    <label>Profil <span class="req">*</span></label>
    <input id="fx_profile" required placeholder="z.B. moving_head_16ch" />

    <label>Universe <span class="req">*</span></label>
    <input id="fx_universe" type="number" min="0" max="32767" value="0" required />

    <label>DMX Address <span class="req">*</span></label>
    <input id="fx_addr" type="number" min="1" max="512" value="1" required />

    <label>X (cm)</label>
    <input id="fx_x" type="number" value="0" />

    <label>Y (cm)</label>
    <input id="fx_y" type="number" value="0" />

    <label>Z (cm)</label>
    <input id="fx_z" type="number" value="0" />

    <hr class="sep" />

    <div class="muted" style="grid-column:1/-1;">Optionales Mapping (falls nicht im Profil abgedeckt)</div>

    <label>PAN Channel</label>
    <input id="fx_pan_ch" type="number" min="1" max="512" placeholder="z.B. 1" />

    <label>TILT Channel</label>
    <input id="fx_tilt_ch" type="number" min="1" max="512" placeholder="z.B. 3" />

    <label>DIMMER Channel</label>
    <input id="fx_dim_ch" type="number" min="1" max="512" placeholder="z.B. 5" />

    <label>Invert PAN</label>
    <input id="fx_invert_pan" type="checkbox" />

    <label>Invert TILT</label>
    <input id="fx_invert_tilt" type="checkbox" />

    <div class="row" style="grid-column: 1 / -1; margin-top: 8px;">
      <button class="btn" type="submit">Speichern</button>
      <a class="btn" href="/ui/fixtures">Abbrechen</a>
    </div>
  </form>

  <pre id="fx_result" class="pre"></pre>
</div>
{% endblock %}

{% block scripts %}
<script>
document.addEventListener("DOMContentLoaded", ltRefreshFooterState);
</script>
{% endblock %}
