{% extends "base.html" %}
{% block content %}
<h1>New Fixture</h1>

<div class="card">
  <div class="card-title">Aus Library übernehmen</div>
  <div class="formgrid">
    <label>Library Fixture
      <select id="ofl_sel_fixture" onchange="ltOflOnFixtureSelect()"></select>
    </label>
    <label>Mode
      <select id="ofl_sel_mode"></select>
    </label>
    <label>Name
      <input id="ofl_name" placeholder="Front MH" />
    </label>
    <label>Universe
      <input id="ofl_uni" type="number" min="0" value="0" />
    </label>
    <label>DMX Address
      <input id="ofl_addr" type="number" min="1" max="512" value="1" />
    </label>
  </div>
  <div class="row">
    <button class="btn primary" onclick="ltOflCreatePatch()">Aktiven Fixture anlegen</button>
    <a class="btn" href="/ui/fixtures">Zurück</a>
  </div>
  <pre class="pre" id="ofl_patch_out"></pre>
</div>

<div class="card">
  <div class="card-title">Legacy Fixture Definition</div>
  <form onsubmit="ltCreateFixture(event)">
    <div class="formgrid">
      <label>Name <span class="req">*</span>
        <input id="fx_name" required placeholder="FrontSpot-1" />
      </label>

      <label>Universe <span class="req">*</span>
        <input id="fx_universe" type="number" required value="1" min="1" />
      </label>

      <label>DMX Base Address <span class="req">*</span>
        <input id="fx_addr" type="number" required value="1" min="1" max="512" />
      </label>

      <label>Profile Key <span class="req">*</span>
        <input id="fx_profile" required placeholder="mh_16bit_pan_tilt" />
      </label>

      <label>Pos X (cm)
        <input id="fx_x" type="number" value="0" />
      </label>
      <label>Pos Y (cm)
        <input id="fx_y" type="number" value="0" />
      </label>
      <label>Pos Z (cm)
        <input id="fx_z" type="number" value="0" />
      </label>
    </div>

    <div class="row">
      <button class="btn primary" type="submit">Create</button>
      <a class="btn" href="/ui/fixtures">Cancel</a>
    </div>
  </form>

  <pre class="pre" id="fx_result"></pre>
</div>
{% endblock %}

{% block scripts %}
<script>
document.addEventListener("DOMContentLoaded", () => {
  ltRefreshFooterState();
  ltOflLoadFixtures();
});
</script>
{% endblock %}
